# ============================================
# TELEGRAM BOT CONFIGURATION (REQUIRED)
# ============================================

# Bot token dari @BotFather
TELEGRAM_BOT_TOKEN=your_bot_token_here

# API credentials dari https://my.telegram.org
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=your_api_hash_here

# ============================================
# TRANSCRIPTION PROVIDER (REQUIRED)
# ============================================

# Provider: groq atau deepgram
TRANSCRIPTION_PROVIDER=groq

# Groq API Key (required jika provider=groq)
GROQ_API_KEY=your_groq_api_key_here

# Deepgram API Key (required jika provider=deepgram)
DEEPGRAM_API_KEY=your_deepgram_api_key_here

# Deepgram Model: whisper atau nova-3
DEEPGRAM_MODEL=whisper

# Deepgram auto language detection: true atau false
DEEPGRAM_DETECT_LANGUAGE=true

# ============================================
# WEBHOOK MODE (OPTIONAL - Production Only)
# ============================================
# Jika WEBHOOK_URL tidak diset, bot akan menggunakan polling mode
# Webhook mode 2-3x lebih cepat untuk production deployment

# Full public URL untuk webhook (tanpa trailing slash)
# WEBHOOK_URL=https://yourdomain.com

# Webhook path (default: /webhook)
# WEBHOOK_PATH=/webhook

# Server host (default: 0.0.0.0)
# WEBHOOK_HOST=0.0.0.0

# Server port (default: 8080)
# WEBHOOK_PORT=8080

# Secret token untuk webhook security (highly recommended)
# Generate dengan: openssl rand -hex 32
# WEBHOOK_SECRET=your_random_secret_token_here

# ============================================
# TASK QUEUE CONFIGURATION (OPTIONAL)
# ============================================

# Maximum concurrent workers (default: 3)
# Increase untuk handle lebih banyak concurrent transcriptions
# QUEUE_MAX_WORKERS=5

# Maximum retries untuk failed tasks (default: 2)
# QUEUE_MAX_RETRIES=2

# Retry delay dalam detik (default: 5)
# QUEUE_RETRY_DELAY=5

# Rate limit per user - max concurrent tasks (default: 5)
# QUEUE_RATE_LIMIT_PER_USER=3

# ============================================
# AUDIO OPTIMIZATION SETTINGS (OPTIONAL)
# ============================================

# Use streaming compression (default: true)
# true = faster, no disk I/O | false = save to disk
# AUDIO_USE_STREAMING=true

# Target audio bitrate untuk compression (default: 96k)
# Lower = smaller file | Higher = better quality
# Range: 32k - 128k
# AUDIO_TARGET_BITRATE=96k

# Target sample rate dalam Hz (default: 16000)
# 16000 = optimal untuk speech recognition
# AUDIO_TARGET_SAMPLE_RATE=16000

# Target audio channels (default: 1)
# 1 = mono | 2 = stereo
# AUDIO_TARGET_CHANNELS=1

# Compression threshold dalam MB (default: 15)
# Files >= threshold akan dikonversi ke MP3
# AUDIO_COMPRESSION_THRESHOLD_MB=15

# ============================================
# CACHING CONFIGURATION (OPTIONAL)
# ============================================

# Enable transcript caching (default: true)
# Cache hasil transkrip berdasarkan file hash
# CACHE_ENABLED=true

# Cache type: memory atau redis (default: memory)
# memory = in-memory cache | redis = persistent cache
# CACHE_TYPE=memory

# Redis URL (required jika CACHE_TYPE=redis)
# REDIS_URL=redis://localhost:6379/0

# Cache TTL dalam detik (default: 604800 = 7 days)
# CACHE_TTL=604800

# Max cache size untuk memory cache (default: 100)
# CACHE_MAX_SIZE=100

# ============================================
# PERFORMANCE TUNING (OPTIONAL)
# ============================================

# Enable parallel audio processing (default: false)
# PARALLEL_PROCESSING_ENABLED=false

# Max concurrent parallel processes (default: 3)
# PARALLEL_MAX_CONCURRENT=3

# API request timeout dalam detik (default: 300)
# API_TIMEOUT=300

# Download progress bar threshold dalam MB (default: 50)
# Show progress bar untuk files >= threshold
# DOWNLOAD_PROGRESS_THRESHOLD_MB=50

# Auto cleanup old tasks hours (default: 24)
# QUEUE_CLEANUP_HOURS=24

# ============================================
# MONITORING & LOGGING (OPTIONAL)
# ============================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
# LOG_LEVEL=INFO

# Enable rich logging dengan colors (default: true)
# LOG_RICH_ENABLED=true

# Enable performance metrics logging (default: false)
# LOG_PERFORMANCE_METRICS=false

# Sentry DSN untuk error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn

# ============================================
# DATABASE CONFIGURATION (OPTIONAL)
# ============================================
# Untuk tracking histori, analytics, dan persistent preferences

# Database URL (PostgreSQL recommended)
# DATABASE_URL=postgresql://user:password@localhost:5432/transhades

# Enable database (default: false)
# DATABASE_ENABLED=false

# ============================================
# SECURITY & LIMITS (OPTIONAL)
# ============================================

# Maximum file size dalam MB (default: 2048 = 2GB)
# MAX_FILE_SIZE_MB=2048

# Allowed user IDs (comma separated, empty = all users)
# ALLOWED_USER_IDS=

# Admin user IDs (comma separated, untuk stats commands)
# ADMIN_USER_IDS=

# Rate limit: max requests per minute per user (default: 10)
# RATE_LIMIT_PER_MINUTE=10

# ============================================
# ADVANCED SETTINGS (OPTIONAL)
# ============================================

# FFmpeg binary path (default: ffmpeg)
# FFMPEG_PATH=ffmpeg

# FFprobe binary path (default: ffprobe)
# FFPROBE_PATH=ffprobe

# Temporary download directory (default: ~/Downloads/transhades)
# TEMP_DOWNLOAD_DIR=/path/to/temp/dir

# Keep original files after processing (default: false)
# KEEP_ORIGINAL_FILES=false

# Enable debug mode (default: false)
# DEBUG_MODE=false

# ============================================
# DEPLOYMENT SPECIFIC SETTINGS
# ============================================

# Environment: development, staging, production (default: development)
# ENVIRONMENT=production

# Health check interval dalam detik (default: 60)
# HEALTH_CHECK_INTERVAL=60

# Graceful shutdown timeout dalam detik (default: 30)
# SHUTDOWN_TIMEOUT=30

# ============================================
# NOTES & RECOMMENDATIONS
# ============================================
#
# SMALL BOTS (< 100 users/day):
# - Use polling mode (no webhook)
# - QUEUE_MAX_WORKERS=2-3
# - CACHE_TYPE=memory
#
# MEDIUM BOTS (100-1000 users/day):
# - Use webhook mode (set WEBHOOK_URL)
# - QUEUE_MAX_WORKERS=5
# - CACHE_TYPE=memory atau redis
# - Enable PARALLEL_PROCESSING_ENABLED
#
# LARGE BOTS (> 1000 users/day):
# - Use webhook mode + Redis
# - QUEUE_MAX_WORKERS=10+
# - CACHE_TYPE=redis
# - Enable DATABASE_ENABLED
# - Consider horizontal scaling
#
# PRODUCTION CHECKLIST:
# ✓ Set WEBHOOK_URL dan WEBHOOK_SECRET
# ✓ Use Redis untuk caching (CACHE_TYPE=redis)
# ✓ Configure SENTRY_DSN untuk error tracking
# ✓ Set ALLOWED_USER_IDS atau ADMIN_USER_IDS jika private bot
# ✓ Enable DATABASE_ENABLED untuk analytics
# ✓ Adjust QUEUE_MAX_WORKERS sesuai server capacity
# ✓ Set LOG_LEVEL=WARNING atau ERROR
# ✓ Configure reverse proxy (Nginx) untuk webhook
# ✓ Use SSL/TLS untuk webhook endpoint
# ✓ Setup monitoring & alerting
#
# ============================================
